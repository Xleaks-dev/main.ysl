--[[
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—         â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
     â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
       â•šâ–ˆâ–ˆâ•”â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
        â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
        â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•    â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â•
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    Version: V113 PERFECTED ğŸ”¥
    Game: Escape Tsunami For Brainrots
    Creator: yslscripts ğŸ˜ˆ
    
    âœ… FIXED ALL BUGS
    âœ… BRAINROT COLLECTION WORKS
    âœ… AUTO MONEY FIXED
    âœ… AUTO REBIRTH SMART (NO SPAM)
    âœ… STATS DISPLAY FIXED
    âœ… WAVE PROTECTION ACTUALLY WORKS
    
    Free Key: ysl_free_ot
]]

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  SECURITY & ANTI-DETECTION
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function InitSecurity()
    local mt = getrawmetatable(game)
    local oldNamecall = mt.__namecall
    setreadonly(mt, false)
    
    mt.__namecall = newcclosure(function(self, ...)
        local method = getnamecallmethod()
        
        if method == "Kick" or (method == "FireServer" and tostring(self):find("Admin")) then
            return
        end
        
        return oldNamecall(self, ...)
    end)
    
    setreadonly(mt, true)
    
    -- Anti-AFK
    local vu = game:GetService("VirtualUser")
    game.Players.LocalPlayer.Idled:Connect(function()
        vu:CaptureController()
        vu:ClickButton2(Vector2.new())
    end)
end

pcall(InitSecurity)

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  PREMIUM KEY SYSTEM
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local KEYS = {
    ["ysl_free_ot"] = {tier = "Free", color = Color3.fromRGB(0, 255, 127)},
    ["ysl_ultimate"] = {tier = "Ultimate", color = Color3.fromRGB(255, 0, 255)}
}

local TweenService = game:GetService("TweenService")

local function Tween(obj, props, duration, style, direction)
    style = style or Enum.EasingStyle.Quint
    direction = direction or Enum.EasingDirection.Out
    local info = TweenInfo.new(duration, style, direction)
    local tween = TweenService:Create(obj, info, props)
    tween:Play()
    return tween
end

local function CreateKeySystem()
    local SG = Instance.new("ScreenGui")
    local Blur = Instance.new("BlurEffect")
    local BG = Instance.new("Frame")
    local MainFrame = Instance.new("Frame")
    local Corner = Instance.new("UICorner")
    local Glow = Instance.new("ImageLabel")
    
    local Header = Instance.new("Frame")
    local HeaderCorner = Instance.new("UICorner")
    local Logo = Instance.new("TextLabel")
    local SubTitle = Instance.new("TextLabel")
    
    local Content = Instance.new("Frame")
    local KeyBox = Instance.new("Frame")
    local KeyBoxCorner = Instance.new("UICorner")
    local KeyInput = Instance.new("TextBox")
    local KeyIcon = Instance.new("TextLabel")
    
    local SubmitBtn = Instance.new("TextButton")
    local SubmitCorner = Instance.new("UICorner")
    local SubmitGlow = Instance.new("UIStroke")
    
    local CopyBtn = Instance.new("TextButton")
    local CopyCorner = Instance.new("UICorner")
    local CopyStroke = Instance.new("UIStroke")
    
    local Status = Instance.new("Frame")
    local StatusCorner = Instance.new("UICorner")
    local StatusText = Instance.new("TextLabel")
    local StatusIcon = Instance.new("TextLabel")
    
    SG.Name = "YslKeySystemV113"
    SG.Parent = game.CoreGui
    SG.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    Blur.Parent = game.Lighting
    Blur.Size = 0
    Tween(Blur, {Size = 10}, 0.5)
    
    BG.Name = "Background"
    BG.Parent = SG
    BG.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    BG.BackgroundTransparency = 1
    BG.BorderSizePixel = 0
    BG.Size = UDim2.new(1, 0, 1, 0)
    Tween(BG, {BackgroundTransparency = 0.3}, 0.5)
    
    MainFrame.Name = "Main"
    MainFrame.Parent = SG
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
    MainFrame.BorderSizePixel = 0
    MainFrame.ClipsDescendants = true
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainFrame.Size = UDim2.new(0, 0, 0, 0)
    
    Corner.CornerRadius = UDim.new(0, 16)
    Corner.Parent = MainFrame
    
    Glow.Name = "Glow"
    Glow.Parent = MainFrame
    Glow.BackgroundTransparency = 1
    Glow.Position = UDim2.new(0.5, 0, 0.5, 0)
    Glow.Size = UDim2.new(1.5, 0, 1.5, 0)
    Glow.AnchorPoint = Vector2.new(0.5, 0.5)
    Glow.Image = "rbxassetid://4996891970"
    Glow.ImageColor3 = Color3.fromRGB(0, 255, 127)
    Glow.ImageTransparency = 0.8
    Glow.ZIndex = 0
    
    Tween(MainFrame, {Size = UDim2.new(0, 420, 0, 320)}, 0.6, Enum.EasingStyle.Back)
    
    Header.Name = "Header"
    Header.Parent = MainFrame
    Header.BackgroundColor3 = Color3.fromRGB(20, 20, 28)
    Header.BorderSizePixel = 0
    Header.Size = UDim2.new(1, 0, 0, 90)
    
    HeaderCorner.CornerRadius = UDim.new(0, 16)
    HeaderCorner.Parent = Header
    
    Logo.Name = "Logo"
    Logo.Parent = Header
    Logo.BackgroundTransparency = 1
    Logo.Position = UDim2.new(0, 0, 0, 10)
    Logo.Size = UDim2.new(1, 0, 0, 45)
    Logo.Font = Enum.Font.GothamBold
    Logo.Text = "âš¡ YSLMENU"
    Logo.TextColor3 = Color3.fromRGB(0, 255, 127)
    Logo.TextSize = 32
    Logo.TextTransparency = 1
    
    SubTitle.Name = "SubTitle"
    SubTitle.Parent = Header
    SubTitle.BackgroundTransparency = 1
    SubTitle.Position = UDim2.new(0, 0, 0, 55)
    SubTitle.Size = UDim2.new(1, 0, 0, 25)
    SubTitle.Font = Enum.Font.Gotham
    SubTitle.Text = "V113 PERFECTED ğŸ”¥"
    SubTitle.TextColor3 = Color3.fromRGB(150, 150, 160)
    SubTitle.TextSize = 14
    SubTitle.TextTransparency = 1
    
    task.wait(0.3)
    Tween(Logo, {TextTransparency = 0}, 0.5)
    Tween(SubTitle, {TextTransparency = 0}, 0.5)
    
    Content.Name = "Content"
    Content.Parent = MainFrame
    Content.BackgroundTransparency = 1
    Content.Position = UDim2.new(0, 20, 0, 100)
    Content.Size = UDim2.new(1, -40, 1, -110)
    
    KeyBox.Name = "KeyBox"
    KeyBox.Parent = Content
    KeyBox.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    KeyBox.BorderSizePixel = 0
    KeyBox.Position = UDim2.new(0, 0, 0, 20)
    KeyBox.Size = UDim2.new(1, 0, 0, 50)
    KeyBox.BackgroundTransparency = 1
    
    KeyBoxCorner.CornerRadius = UDim.new(0, 10)
    KeyBoxCorner.Parent = KeyBox
    
    KeyIcon.Name = "Icon"
    KeyIcon.Parent = KeyBox
    KeyIcon.BackgroundTransparency = 1
    KeyIcon.Position = UDim2.new(0, 15, 0, 0)
    KeyIcon.Size = UDim2.new(0, 40, 1, 0)
    KeyIcon.Font = Enum.Font.GothamBold
    KeyIcon.Text = "ğŸ”‘"
    KeyIcon.TextColor3 = Color3.fromRGB(0, 255, 127)
    KeyIcon.TextSize = 24
    
    KeyInput.Name = "Input"
    KeyInput.Parent = KeyBox
    KeyInput.BackgroundTransparency = 1
    KeyInput.Position = UDim2.new(0, 55, 0, 0)
    KeyInput.Size = UDim2.new(1, -65, 1, 0)
    KeyInput.Font = Enum.Font.Gotham
    KeyInput.PlaceholderText = "Enter your key..."
    KeyInput.Text = ""
    KeyInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyInput.TextSize = 16
    KeyInput.TextXAlignment = Enum.TextXAlignment.Left
    KeyInput.ClearTextOnFocus = false
    
    task.wait(0.4)
    Tween(KeyBox, {BackgroundTransparency = 0}, 0.4)
    
    SubmitBtn.Name = "Submit"
    SubmitBtn.Parent = Content
    SubmitBtn.BackgroundColor3 = Color3.fromRGB(0, 255, 127)
    SubmitBtn.BorderSizePixel = 0
    SubmitBtn.Position = UDim2.new(0, 0, 0, 85)
    SubmitBtn.Size = UDim2.new(1, 0, 0, 45)
    SubmitBtn.Font = Enum.Font.GothamBold
    SubmitBtn.Text = "ğŸš€ SUBMIT KEY"
    SubmitBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
    SubmitBtn.TextSize = 16
    SubmitBtn.AutoButtonColor = false
    SubmitBtn.BackgroundTransparency = 1
    
    SubmitCorner.CornerRadius = UDim.new(0, 10)
    SubmitCorner.Parent = SubmitBtn
    
    SubmitGlow.Name = "Glow"
    SubmitGlow.Parent = SubmitBtn
    SubmitGlow.Color = Color3.fromRGB(0, 255, 127)
    SubmitGlow.Thickness = 2
    SubmitGlow.Transparency = 0.5
    
    task.wait(0.5)
    Tween(SubmitBtn, {BackgroundTransparency = 0}, 0.4)
    
    CopyBtn.Name = "Copy"
    CopyBtn.Parent = Content
    CopyBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    CopyBtn.BorderSizePixel = 0
    CopyBtn.Position = UDim2.new(0, 0, 0, 140)
    CopyBtn.Size = UDim2.new(1, 0, 0, 35)
    CopyBtn.Font = Enum.Font.Gotham
    CopyBtn.Text = "ğŸ“‹ COPY FREE KEY"
    CopyBtn.TextColor3 = Color3.fromRGB(200, 200, 210)
    CopyBtn.TextSize = 14
    CopyBtn.AutoButtonColor = false
    CopyBtn.BackgroundTransparency = 1
    
    CopyCorner.CornerRadius = UDim.new(0, 8)
    CopyCorner.Parent = CopyBtn
    
    CopyStroke.Parent = CopyBtn
    CopyStroke.Color = Color3.fromRGB(60, 60, 70)
    CopyStroke.Thickness = 1.5
    
    task.wait(0.55)
    Tween(CopyBtn, {BackgroundTransparency = 0}, 0.4)
    
    Status.Name = "Status"
    Status.Parent = Content
    Status.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    Status.BorderSizePixel = 0
    Status.Position = UDim2.new(0, 0, 1, -35)
    Status.Size = UDim2.new(1, 0, 0, 35)
    Status.BackgroundTransparency = 1
    
    StatusCorner.CornerRadius = UDim.new(0, 8)
    StatusCorner.Parent = Status
    
    StatusIcon.Name = "Icon"
    StatusIcon.Parent = Status
    StatusIcon.BackgroundTransparency = 1
    StatusIcon.Size = UDim2.new(0, 35, 1, 0)
    StatusIcon.Font = Enum.Font.GothamBold
    StatusIcon.Text = "â³"
    StatusIcon.TextColor3 = Color3.fromRGB(150, 150, 160)
    StatusIcon.TextSize = 18
    
    StatusText.Name = "Text"
    StatusText.Parent = Status
    StatusText.BackgroundTransparency = 1
    StatusText.Position = UDim2.new(0, 35, 0, 0)
    StatusText.Size = UDim2.new(1, -35, 1, 0)
    StatusText.Font = Enum.Font.Gotham
    StatusText.Text = "Waiting for key..."
    StatusText.TextColor3 = Color3.fromRGB(150, 150, 160)
    StatusText.TextSize = 12
    StatusText.TextXAlignment = Enum.TextXAlignment.Left
    
    task.wait(0.6)
    Tween(Status, {BackgroundTransparency = 0}, 0.4)
    
    SubmitBtn.MouseEnter:Connect(function()
        Tween(SubmitBtn, {BackgroundColor3 = Color3.fromRGB(0, 230, 115)}, 0.2)
    end)
    
    SubmitBtn.MouseLeave:Connect(function()
        Tween(SubmitBtn, {BackgroundColor3 = Color3.fromRGB(0, 255, 127)}, 0.2)
    end)
    
    CopyBtn.MouseButton1Click:Connect(function()
        setclipboard("ysl_free_ot")
        KeyInput.Text = "ysl_free_ot"
        CopyBtn.Text = "âœ… COPIED!"
        StatusIcon.Text = "âœ…"
        StatusText.Text = "Key copied!"
        Tween(StatusIcon, {TextColor3 = Color3.fromRGB(0, 255, 127)}, 0.3)
        Tween(StatusText, {TextColor3 = Color3.fromRGB(0, 255, 127)}, 0.3)
        task.wait(2)
        CopyBtn.Text = "ğŸ“‹ COPY FREE KEY"
        StatusIcon.Text = "â³"
        StatusText.Text = "Waiting for key..."
        Tween(StatusIcon, {TextColor3 = Color3.fromRGB(150, 150, 160)}, 0.3)
        Tween(StatusText, {TextColor3 = Color3.fromRGB(150, 150, 160)}, 0.3)
    end)
    
    local function ValidateKey()
        local key = KeyInput.Text
        
        if KEYS[key] then
            local keyData = KEYS[key]
            StatusIcon.Text = "âœ…"
            StatusText.Text = keyData.tier .. " access granted!"
            Tween(Status, {BackgroundColor3 = keyData.color}, 0.3)
            Tween(StatusIcon, {TextColor3 = Color3.fromRGB(255, 255, 255)}, 0.3)
            Tween(StatusText, {TextColor3 = Color3.fromRGB(255, 255, 255)}, 0.3)
            SubmitBtn.Text = "ğŸ‰ SUCCESS!"
            Tween(SubmitBtn, {BackgroundColor3 = keyData.color}, 0.3)
            
            task.wait(0.5)
            Tween(MainFrame, {
                Size = UDim2.new(0, 0, 0, 0),
                BackgroundTransparency = 1
            }, 0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In)
            Tween(BG, {BackgroundTransparency = 1}, 0.5)
            Tween(Blur, {Size = 0}, 0.5)
            task.wait(0.6)
            Blur:Destroy()
            SG:Destroy()
            return true
        else
            StatusIcon.Text = "âŒ"
            StatusText.Text = "Invalid key!"
            Tween(Status, {BackgroundColor3 = Color3.fromRGB(255, 50, 50)}, 0.3)
            local originalPos = MainFrame.Position
            for i = 1, 4 do
                Tween(MainFrame, {Position = originalPos + UDim2.new(0, 15, 0, 0)}, 0.05)
                task.wait(0.05)
                Tween(MainFrame, {Position = originalPos - UDim2.new(0, 15, 0, 0)}, 0.05)
                task.wait(0.05)
            end
            Tween(MainFrame, {Position = originalPos}, 0.1)
            KeyInput.Text = ""
            task.wait(2)
            Tween(Status, {BackgroundColor3 = Color3.fromRGB(25, 25, 35)}, 0.3)
            StatusIcon.Text = "â³"
            StatusText.Text = "Waiting for key..."
            return false
        end
    end
    
    SubmitBtn.MouseButton1Click:Connect(ValidateKey)
    KeyInput.FocusLost:Connect(function(e) if e then ValidateKey() end end)
    
    repeat task.wait() until not SG.Parent or not SG
end

CreateKeySystem()

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  LOAD UI
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local success, Rayfield = pcall(function()
    return loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
end)

if not success then
    game.Players.LocalPlayer:Kick("\nâš¡ YslMenu V113\n\nUI failed to load!")
    return
end

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  SERVICES & VARIABLES
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Players = game:GetService("Players")
local RS = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local UIS = game:GetService("UserInputService")
local RepStorage = game:GetService("ReplicatedStorage")

local lplayer = Players.LocalPlayer
local character = lplayer.Character or lplayer.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local root = character:WaitForChild("HumanoidRootPart")

local Paths = {
    ActiveBrainrots = Workspace:WaitForChild("ActiveBrainrots"),
    VIPWalls = Workspace:WaitForChild("VIPWalls"),
    ActiveTsunamis = Workspace:WaitForChild("ActiveTsunamis"),
    UpgradeShop = Workspace:WaitForChild("UpgradeShop"),
    UFOSpinWheel = Workspace:WaitForChild("UFOSpinWheel"),
    Bases = Workspace:WaitForChild("Bases"),
    ActiveLuckyBlocks = Workspace:WaitForChild("ActiveLuckyBlocks"),
    SellPoint = Workspace:WaitForChild("SellPoint"),
    RemoteEvents = RepStorage:WaitForChild("RemoteEvents"),
    RemoteFunctions = RepStorage:WaitForChild("RemoteFunctions"),
}

pcall(function()
    Paths.CollectMoney = Paths.RemoteEvents:WaitForChild("CollectMoney")
    Paths.SellAll = Paths.RemoteFunctions:WaitForChild("SellAll")
    Paths.Rebirth = Paths.RemoteFunctions:WaitForChild("Rebirth")
    Paths.TakeFreeEpic = Paths.RemoteFunctions:WaitForChild("TakeFreeEpic")
end)

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  SETTINGS
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

_G.Ysl = {
    Speed = false, SpeedValue = 100,
    Fly = false, FlySpeed = 50,
    InfJump = false, NoClip = false,
    VIPBypass = false,
    GodMode = false, WaveImmunity = true, AntiVoid = true,
    AutoBrainrot = false, AutoMoney = false, AutoSell = false,
    AutoUpgrade = false, AutoLuckyBlocks = false, AutoRebirth = false,
    CollectRange = 200, RebirthAt = 100,
    BrainrotESP = false, VIPWallESP = false, LuckyBlockESP = false,
    Stats = {Brainrots = 0, Money = 0, LuckyBlocks = 0, WavesBlocked = 0, SessionTime = 0}
}

local Connections = {}
local LastRebirth = 0

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  HELPER FUNCTIONS
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function Notify(title, text, duration)
    Rayfield:Notify({Title = title, Content = text, Duration = duration or 3, Image = 4483362458})
end

local function Safe(func)
    local s, e = pcall(func)
    if not s then warn("Ysl Error:", e) end
    return s
end

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  MOVEMENT
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Movement = {}

function Movement:SetupSpeed()
    if Connections.Speed then Connections.Speed:Disconnect() end
    if not _G.Ysl.Speed then
        if humanoid then humanoid.WalkSpeed = 16 end
        return
    end
    Connections.Speed = RS.Heartbeat:Connect(function()
        Safe(function()
            if humanoid then humanoid.WalkSpeed = _G.Ysl.SpeedValue end
        end)
    end)
end

function Movement:SetupFly()
    if Connections.Fly then Connections.Fly:Disconnect() end
    if root:FindFirstChild("YslFlyGyro") then root.YslFlyGyro:Destroy() end
    if root:FindFirstChild("YslFlyVel") then root.YslFlyVel:Destroy() end
    if not _G.Ysl.Fly then return end
    
    local bg = Instance.new("BodyGyro")
    bg.Name = "YslFlyGyro"
    bg.Parent = root
    bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    
    local bv = Instance.new("BodyVelocity")
    bv.Name = "YslFlyVel"
    bv.Parent = root
    bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    
    Connections.Fly = RS.Heartbeat:Connect(function()
        Safe(function()
            if not _G.Ysl.Fly then return end
            local cam = Workspace.CurrentCamera
            local dir = Vector3.new(0, 0, 0)
            if UIS:IsKeyDown(Enum.KeyCode.W) then dir = dir + cam.CFrame.LookVector * _G.Ysl.FlySpeed end
            if UIS:IsKeyDown(Enum.KeyCode.S) then dir = dir - cam.CFrame.LookVector * _G.Ysl.FlySpeed end
            if UIS:IsKeyDown(Enum.KeyCode.A) then dir = dir - cam.CFrame.RightVector * _G.Ysl.FlySpeed end
            if UIS:IsKeyDown(Enum.KeyCode.D) then dir = dir + cam.CFrame.RightVector * _G.Ysl.FlySpeed end
            if UIS:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, _G.Ysl.FlySpeed, 0) end
            if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0, _G.Ysl.FlySpeed, 0) end
            bv.Velocity = dir
            bg.CFrame = cam.CFrame
        end)
    end)
end

function Movement:SetupNoClip()
    if Connections.NoClip then Connections.NoClip:Disconnect() end
    if not _G.Ysl.NoClip then
        for _, v in pairs(character:GetDescendants()) do
            if v:IsA("BasePart") then v.CanCollide = true end
        end
        return
    end
    Connections.NoClip = RS.Stepped:Connect(function()
        for _, v in pairs(character:GetDescendants()) do
            if v:IsA("BasePart") then v.CanCollide = false end
        end
    end)
end

UIS.JumpRequest:Connect(function()
    if _G.Ysl.InfJump and humanoid then
        Safe(function() humanoid:ChangeState(Enum.HumanoidStateType.Jumping) end)
    end
end)

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  VIP BYPASS
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local VIPBypass = {}
VIPBypass.Processed = {}

function VIPBypass:Start()
    if Connections.VIP then Connections.VIP:Disconnect() end
    if not _G.Ysl.VIPBypass then
        for wall, _ in pairs(self.Processed) do
            if wall and wall.Parent then
                wall.CanCollide = wall:GetAttribute("YslOrigCol") or true
                wall.Transparency = wall:GetAttribute("YslOrigTrans") or 0
            end
        end
        self.Processed = {}
        return
    end
    Connections.VIP = RS.Heartbeat:Connect(function()
        Safe(function()
            for _, wall in pairs(Paths.VIPWalls:GetDescendants()) do
                if wall:IsA("BasePart") then
                    if not self.Processed[wall] then
                        wall:SetAttribute("YslOrigCol", wall.CanCollide)
                        wall:SetAttribute("YslOrigTrans", wall.Transparency)
                        self.Processed[wall] = true
                    end
                    wall.CanCollide = false
                    wall.CanTouch = false
                    wall.Transparency = 0.9
                end
            end
        end)
        task.wait(0.5)
    end)
end

function VIPBypass:RemoveAll()
    local count = 0
    for _, wall in pairs(Paths.VIPWalls:GetDescendants()) do
        if wall:IsA("BasePart") then
            wall:Destroy()
            count = count + 1
        end
    end
    Notify("VIP Bypass", "Removed " .. count .. " walls! ğŸ”“", 3)
end

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  PROTECTION (FIXED WAVE PROTECTION!)
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Protection = {}

function Protection:SetupGodMode()
    if not _G.Ysl.GodMode then return end
    Safe(function()
        humanoid.MaxHealth = math.huge
        humanoid.Health = math.huge
    end)
end

function Protection:SetupWaveImmunity()
    if Connections.Wave then Connections.Wave:Disconnect() end
    if not _G.Ysl.WaveImmunity then return end
    
    Connections.Wave = RS.Heartbeat:Connect(function()
        Safe(function()
            -- HEAL IF DAMAGED
            if humanoid.Health < humanoid.MaxHealth and not _G.Ysl.GodMode then
                humanoid.Health = humanoid.MaxHealth
                _G.Ysl.Stats.WavesBlocked = _G.Ysl.Stats.WavesBlocked + 1
            end
            
            -- DISABLE SWIMMING (PREVENTS WAVE DAMAGE)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming, false)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
            
            -- REMOVE WATER AROUND PLAYER
            for _, wave in pairs(Paths.ActiveTsunamis:GetChildren()) do
                if wave:IsA("Model") then
                    for _, part in pairs(wave:GetDescendants()) do
                        if part:IsA("BasePart") then
                            local dist = (part.Position - root.Position).Magnitude
                            if dist < 50 then
                                part.CanCollide = false
                                part.CanTouch = false
                            end
                        end
                    end
                end
            end
        end)
    end)
end

function Protection:SetupAntiVoid()
    if Connections.Void then Connections.Void:Disconnect() end
    if not _G.Ysl.AntiVoid then return end
    Connections.Void = RS.Heartbeat:Connect(function()
        Safe(function()
            if root.Position.Y < -50 then
                local spawn = Workspace:FindFirstChild("SpawnLocation1")
                if spawn then
                    root.CFrame = spawn.CFrame + Vector3.new(0, 5, 0)
                else
                    root.CFrame = CFrame.new(0, 50, 0)
                end
            end
        end)
    end)
end

function Protection:RemoveWaves()
    local count = 0
    for _, wave in pairs(Paths.ActiveTsunamis:GetChildren()) do
        if wave:IsA("Model") then
            wave:Destroy()
            count = count + 1
        end
    end
    Workspace.Terrain:Clear()
    Notify("Waves", "Destroyed " .. count .. " waves! ğŸŒŠ", 3)
end

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  AUTO FARM (ALL FIXED!)
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AutoFarm = {}

-- FIXED BRAINROT COLLECTION!
function AutoFarm:StartBrainrot()
    if Connections.Brainrot then Connections.Brainrot:Disconnect() end
    if not _G.Ysl.AutoBrainrot then return end
    
    Connections.Brainrot = RS.Heartbeat:Connect(function()
        Safe(function()
            for _, rarity in pairs(Paths.ActiveBrainrots:GetChildren()) do
                if rarity:IsA("Folder") then
                    for _, rendered in pairs(rarity:GetChildren()) do
                        if rendered:IsA("Model") and rendered.Name == "RenderedBrainrot" then
                            for _, brainrot in pairs(rendered:GetChildren()) do
                                if brainrot:IsA("Model") then
                                    -- Find TakePrompt
                                    for _, child in pairs(brainrot:GetDescendants()) do
                                        if child:IsA("ProximityPrompt") and child.Name == "TakePrompt" then
                                            local dist = (child.Parent.Position - root.Position).Magnitude
                                            if dist < _G.Ysl.CollectRange then
                                                -- FIRE PROMPT!
                                                fireproximityprompt(child)
                                                _G.Ysl.Stats.Brainrots = _G.Ysl.Stats.Brainrots + 1
                                                task.wait(0.1)
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end)
        task.wait(0.5)
    end)
end

-- FIXED AUTO MONEY!
function AutoFarm:StartMoney()
    if Connections.Money then Connections.Money:Disconnect() end
    if not _G.Ysl.AutoMoney then return end
    
    Connections.Money = RS.Heartbeat:Connect(function()
        Safe(function()
            -- Find player's base and collect from slots
            for _, base in pairs(Paths.Bases:GetChildren()) do
                if base:IsA("Model") and base:FindFirstChild("Slots") then
                    for _, slot in pairs(base.Slots:GetChildren()) do
                        if slot:IsA("Model") then
                            local collect = slot:FindFirstChild("Collect")
                            if collect then
                                for _, detector in pairs(collect:GetDescendants()) do
                                    if detector:IsA("ClickDetector") then
                                        fireclickdetector(detector)
                                    end
                                end
                            end
                        end
                    end
                end
            end
            
            -- Also fire CollectMoney remote
            if Paths.CollectMoney then
                Paths.CollectMoney:FireServer()
            end
        end)
        task.wait(1)
    end)
end

function AutoFarm:StartAutoSell()
    if Connections.Sell then Connections.Sell:Disconnect() end
    if not _G.Ysl.AutoSell then return end
    Connections.Sell = RS.Heartbeat:Connect(function()
        Safe(function()
            if Paths.SellAll then
                Paths.SellAll:InvokeServer()
            end
        end)
        task.wait(5)
    end)
end

function AutoFarm:StartAutoUpgrade()
    if Connections.Upgrade then Connections.Upgrade:Disconnect() end
    if not _G.Ysl.AutoUpgrade then return end
    Connections.Upgrade = RS.Heartbeat:Connect(function()
        Safe(function()
            for _, base in pairs(Paths.Bases:GetChildren()) do
                if base:IsA("Model") and base:FindFirstChild("Slots") then
                    for _, slot in pairs(base.Slots:GetChildren()) do
                        if slot:IsA("Model") then
                            local upgrade = slot:FindFirstChild("Upgrade")
                            if upgrade then
                                for _, detector in pairs(upgrade:GetDescendants()) do
                                    if detector:IsA("ClickDetector") then
                                        fireclickdetector(detector)
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end)
        task.wait(2)
    end)
end

function AutoFarm:StartLuckyBlocks()
    if Connections.Lucky then Connections.Lucky:Disconnect() end
    if not _G.Ysl.AutoLuckyBlocks then return end
    Connections.Lucky = RS.Heartbeat:Connect(function()
        Safe(function()
            for _, block in pairs(Paths.ActiveLuckyBlocks:GetChildren()) do
                if block:IsA("Model") then
                    for _, prompt in pairs(block:GetDescendants()) do
                        if prompt:IsA("ProximityPrompt") then
                            local dist = (prompt.Parent.Position - root.Position).Magnitude
                            if dist < _G.Ysl.CollectRange then
                                fireproximityprompt(prompt)
                                _G.Ysl.Stats.LuckyBlocks = _G.Ysl.Stats.LuckyBlocks + 1
                                task.wait(0.1)
                            end
                        end
                    end
                end
            end
        end)
        task.wait(1)
    end)
end

-- FIXED AUTO REBIRTH (NO MORE SPAM!)
function AutoFarm:StartAutoRebirth()
    if Connections.Rebirth then Connections.Rebirth:Disconnect() end
    if not _G.Ysl.AutoRebirth then return end
    
    Connections.Rebirth = RS.Heartbeat:Connect(function()
        Safe(function()
            -- Only rebirth once every 10 seconds to prevent spam
            if tick() - LastRebirth < 10 then return end
            
            -- Get current speed from player attributes
            local currentSpeed = lplayer:GetAttribute("CurrentSpeed")
            
            if currentSpeed and currentSpeed >= _G.Ysl.RebirthAt then
                if Paths.Rebirth then
                    LastRebirth = tick()
                    local result = Paths.Rebirth:InvokeServer()
                    if result then
                        Notify("Rebirth", "Rebirthed at speed " .. currentSpeed .. "! ğŸ”„", 3)
                    end
                end
            end
        end)
        task.wait(5)
    end)
end

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  ESP
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local ESP = {}

function ESP:Create(obj, color, text)
    if obj:FindFirstChild("YslESP") then return end
    local h = Instance.new("Highlight")
    h.Name = "YslESP"
    h.Parent = obj
    h.FillColor = color
    h.OutlineColor = color
    h.FillTransparency = 0.5
    h.OutlineTransparency = 0
    
    local b = Instance.new("BillboardGui")
    b.Name = "YslESP"
    b.Parent = obj
    b.AlwaysOnTop = true
    b.Size = UDim2.new(0, 100, 0, 50)
    b.StudsOffset = Vector3.new(0, 2, 0)
    
    local l = Instance.new("TextLabel")
    l.Parent = b
    l.Size = UDim2.new(1, 0, 1, 0)
    l.BackgroundTransparency = 1
    l.Text = text
    l.TextColor3 = color
    l.TextScaled = true
    l.Font = Enum.Font.GothamBold
    l.TextStrokeTransparency = 0
end

function ESP:Remove()
    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj.Name == "YslESP" then obj:Destroy() end
    end
end

function ESP:StartBrainrot()
    if Connections.BrainrotESP then Connections.BrainrotESP:Disconnect() end
    if not _G.Ysl.BrainrotESP then self:Remove() return end
    Connections.BrainrotESP = RS.Heartbeat:Connect(function()
        for _, rarity in pairs(Paths.ActiveBrainrots:GetChildren()) do
            if rarity:IsA("Folder") then
                for _, rendered in pairs(rarity:GetChildren()) do
                    if rendered:IsA("Model") and not rendered:FindFirstChild("YslESP") then
                        local color = Color3.fromRGB(255, 255, 0)
                        if rarity.Name == "Legendary" then color = Color3.fromRGB(255, 165, 0)
                        elseif rarity.Name == "Mythical" then color = Color3.fromRGB(255, 0, 255) end
                        self:Create(rendered, color, rarity.Name)
                    end
                end
            end
        end
        task.wait(2)
    end)
end

function ESP:StartVIPWalls()
    if not _G.Ysl.VIPWallESP then self:Remove() return end
    for _, wall in pairs(Paths.VIPWalls:GetDescendants()) do
        if wall:IsA("BasePart") and not wall:FindFirstChild("YslESP") then
            self:Create(wall, Color3.fromRGB(255, 0, 255), "VIP")
        end
    end
end

function ESP:StartLuckyBlocks()
    if Connections.LuckyESP then Connections.LuckyESP:Disconnect() end
    if not _G.Ysl.LuckyBlockESP then self:Remove() return end
    Connections.LuckyESP = RS.Heartbeat:Connect(function()
        for _, block in pairs(Paths.ActiveLuckyBlocks:GetChildren()) do
            if block:IsA("Model") and not block:FindFirstChild("YslESP") then
                self:Create(block, Color3.fromRGB(255, 215, 0), "LUCKY")
            end
        end
        task.wait(2)
    end)
end

--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--//  CREATE UI
--// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Window = Rayfield:CreateWindow({
    Name = "âš¡ YslMenu V113 Perfected",
    LoadingTitle = "YslMenu V113",
    LoadingSubtitle = "ALL BUGS FIXED! ğŸ”¥",
    ConfigurationSaving = {Enabled = true, FileName = "YslMenu_V113"}
})

local MainTab = Window:CreateTab("ğŸ  Main", 4483362458)
local MoveTab = Window:CreateTab("ğŸš€ Movement", 4483362458)
local VIPTab = Window:CreateTab("ğŸ”“ VIP Bypass", 4483362458)
local ProtTab = Window:CreateTab("ğŸ›¡ï¸ Protection", 4483362458)
local FarmTab = Window:CreateTab("ğŸ¤– Auto Farm", 4483362458)
local ESPTab = Window:CreateTab("ğŸ‘ï¸ ESP", 4483362458)
local MiscTab = Window:CreateTab("ğŸ”§ Misc", 4483362458)

--// MAIN TAB (FIXED STATS!)
MainTab:CreateSection("ğŸ“Š Live Stats")

local statsLabel = MainTab:CreateLabel("Loading...")

task.spawn(function()
    local start = tick()
    while task.wait(1) do
        _G.Ysl.Stats.SessionTime = math.floor(tick() - start)
        local m = math.floor(_G.Ysl.Stats.SessionTime / 60)
        local s = _G.Ysl.Stats.SessionTime % 60
        
        local money = lplayer.leaderstats and lplayer.leaderstats:FindFirstChild("Money")
        local moneyVal = money and tostring(money.Value) or "0"
        
        local gen = lplayer.leaderstats and lplayer.leaderstats:FindFirstChild("Gen/s")
        local genVal = gen and tostring(gen.Value) or "0/s"
        
        local speed = lplayer:GetAttribute("CurrentSpeed") or 0
        local rebirth = lplayer:GetAttribute("Rebirth") or 0
        
        -- FIXED: Stats won't glitch now!
        statsLabel:Set(
            "ğŸ’° Money: " .. moneyVal .. "\n" ..
            "ğŸ“Š Gen/s: " .. genVal .. "\n" ..
            "âš¡ Speed: " .. speed .. "\n" ..
            "ğŸ”„ Rebirth: " .. rebirth .. "\n" ..
            "ğŸ§  Collected: " .. _G.Ysl.Stats.Brainrots .. "\n" ..
            "ğŸ Lucky Blocks: " .. _G.Ysl.Stats.LuckyBlocks .. "\n" ..
            "ğŸŒŠ Waves Blocked: " .. _G.Ysl.Stats.WavesBlocked .. "\n" ..
            "â±ï¸ Time: " .. m .. "m " .. s .. "s"
        )
    end
end)

MainTab:CreateSection("âš¡ Quick Actions")

MainTab:CreateButton({
    Name = "ğŸ†˜ EMERGENCY (Full Protection)",
    Callback = function()
        _G.Ysl.WaveImmunity = true
        _G.Ysl.GodMode = true
        _G.Ysl.AntiVoid = true
        _G.Ysl.VIPBypass = true
        _G.Ysl.NoClip = true
        Protection:SetupWaveImmunity()
        Protection:SetupGodMode()
        Protection:SetupAntiVoid()
        VIPBypass:Start()
        Movement:SetupNoClip()
        Notify("ğŸ†˜ EMERGENCY", "Full protection ON! ğŸ˜ˆ", 4)
    end,
})

MainTab:CreateButton({
    Name = "ğŸ¤– FARM EVERYTHING",
    Callback = function()
        _G.Ysl.AutoBrainrot = true
        _G.Ysl.AutoMoney = true
        _G.Ysl.AutoSell = true
        _G.Ysl.AutoUpgrade = true
        _G.Ysl.AutoLuckyBlocks = true
        AutoFarm:StartBrainrot()
        AutoFarm:StartMoney()
        AutoFarm:StartAutoSell()
        AutoFarm:StartAutoUpgrade()
        AutoFarm:StartLuckyBlocks()
        Notify("ğŸ¤– FARM MODE", "All farming ON! ğŸ’°", 4)
    end,
})

--// MOVEMENT TAB
MoveTab:CreateSection("âš¡ Speed")

MoveTab:CreateSlider({
    Name = "Speed Value",
    Range = {16, 500},
    Increment = 1,
    CurrentValue = 100,
    Callback = function(v) _G.Ysl.SpeedValue = v end,
})

MoveTab:CreateToggle({
    Name = "ğŸš€ Enable Speed",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.Speed = v Movement:SetupSpeed() end,
})

MoveTab:CreateSection("âœˆï¸ Fly")

MoveTab:CreateToggle({
    Name = "Enable Fly (WASD)",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.Fly = v Movement:SetupFly() end,
})

MoveTab:CreateSlider({
    Name = "Fly Speed",
    Range = {10, 200},
    Increment = 5,
    CurrentValue = 50,
    Callback = function(v) _G.Ysl.FlySpeed = v end,
})

MoveTab:CreateSection("ğŸˆ Other")

MoveTab:CreateToggle({
    Name = "Infinite Jump",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.InfJump = v end,
})

MoveTab:CreateToggle({
    Name = "ğŸŒ™ NoClip",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.NoClip = v Movement:SetupNoClip() end,
})

--// VIP BYPASS TAB
VIPTab:CreateSection("ğŸ”“ VIP Bypass")

VIPTab:CreateToggle({
    Name = "ğŸ‘‘ Enable VIP Bypass",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.VIPBypass = v VIPBypass:Start() end,
})

VIPTab:CreateButton({
    Name = "ğŸ—‘ï¸ Delete ALL VIP Walls",
    Callback = function() VIPBypass:RemoveAll() end,
})

--// PROTECTION TAB
ProtTab:CreateSection("ğŸ›¡ï¸ Protection")

ProtTab:CreateToggle({
    Name = "âš¡ God Mode",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.GodMode = v Protection:SetupGodMode() end,
})

ProtTab:CreateToggle({
    Name = "ğŸŒŠ Wave Immunity (FIXED!)",
    CurrentValue = true,
    Callback = function(v) _G.Ysl.WaveImmunity = v Protection:SetupWaveImmunity() end,
})

ProtTab:CreateToggle({
    Name = "ğŸ•³ï¸ Anti-Void",
    CurrentValue = true,
    Callback = function(v) _G.Ysl.AntiVoid = v Protection:SetupAntiVoid() end,
})

ProtTab:CreateButton({
    Name = "ğŸŒŠ Remove All Waves",
    Callback = function() Protection:RemoveWaves() end,
})

--// AUTO FARM TAB
FarmTab:CreateSection("ğŸ§  Brainrot (FIXED!)")

FarmTab:CreateToggle({
    Name = "ğŸ§² Auto-Collect Brainrots",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.AutoBrainrot = v AutoFarm:StartBrainrot() end,
})

FarmTab:CreateSlider({
    Name = "Range",
    Range = {50, 500},
    Increment = 10,
    CurrentValue = 200,
    Callback = function(v) _G.Ysl.CollectRange = v end,
})

FarmTab:CreateSection("ğŸ’° Money (FIXED!)")

FarmTab:CreateToggle({
    Name = "ğŸ’µ Auto-Collect Money",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.AutoMoney = v AutoFarm:StartMoney() end,
})

FarmTab:CreateToggle({
    Name = "ğŸª Auto-Sell",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.AutoSell = v AutoFarm:StartAutoSell() end,
})

FarmTab:CreateSection("âš¡ Other")

FarmTab:CreateToggle({
    Name = "âš¡ Auto-Upgrade",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.AutoUpgrade = v AutoFarm:StartAutoUpgrade() end,
})

FarmTab:CreateToggle({
    Name = "ğŸ Auto Lucky Blocks",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.AutoLuckyBlocks = v AutoFarm:StartLuckyBlocks() end,
})

FarmTab:CreateSection("ğŸ”„ Rebirth (FIXED!)")

FarmTab:CreateSlider({
    Name = "Rebirth At Speed",
    Range = {50, 500},
    Increment = 10,
    CurrentValue = 100,
    Callback = function(v) _G.Ysl.RebirthAt = v end,
})

FarmTab:CreateToggle({
    Name = "ğŸ”„ Auto-Rebirth (Smart)",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.AutoRebirth = v AutoFarm:StartAutoRebirth() end,
})

FarmTab:CreateButton({
    Name = "ğŸ Claim Free Epic",
    Callback = function()
        Safe(function()
            if Paths.TakeFreeEpic then
                Paths.TakeFreeEpic:InvokeServer()
                Notify("Free Epic", "Claimed! ğŸ", 3)
            end
        end)
    end,
})

--// ESP TAB
ESPTab:CreateSection("ğŸ‘ï¸ ESP")

ESPTab:CreateToggle({
    Name = "ğŸ§  Brainrot ESP",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.BrainrotESP = v ESP:StartBrainrot() end,
})

ESPTab:CreateToggle({
    Name = "ğŸ”“ VIP Wall ESP",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.VIPWallESP = v ESP:StartVIPWalls() end,
})

ESPTab:CreateToggle({
    Name = "ğŸ Lucky Block ESP",
    CurrentValue = false,
    Callback = function(v) _G.Ysl.LuckyBlockESP = v ESP:StartLuckyBlocks() end,
})

--// MISC TAB
MiscTab:CreateSection("ğŸ¨ Visual")

MiscTab:CreateButton({
    Name = "â˜€ï¸ Full Brightness",
    Callback = function()
        local L = game:GetService("Lighting")
        L.Brightness = 3
        L.ClockTime = 12
        L.FogEnd = 100000
        Notify("Visual", "Full brightness! â˜€ï¸", 2)
    end,
})

MiscTab:CreateSection("ğŸ”— Links")

MiscTab:CreateButton({
    Name = "ğŸ“‹ Copy Discord",
    Callback = function()
        setclipboard("discord.gg/yslscripts")
        Notify("Copied", "discord.gg/yslscripts", 2)
    end,
})

MiscTab:CreateButton({
    Name = "ğŸ”‘ Copy Key",
    Callback = function()
        setclipboard("ysl_free_ot")
        Notify("Copied", "ysl_free_ot", 2)
    end,
})

MiscTab:CreateButton({
    Name = "ğŸ”„ Respawn",
    Callback = function() lplayer.Character:BreakJoints() end,
})

--// Character Respawn
lplayer.CharacterAdded:Connect(function(c)
    task.wait(1)
    character = c
    humanoid = c:WaitForChild("Humanoid")
    root = c:WaitForChild("HumanoidRootPart")
    
    if _G.Ysl.Speed then Movement:SetupSpeed() end
    if _G.Ysl.Fly then Movement:SetupFly() end
    if _G.Ysl.NoClip then Movement:SetupNoClip() end
    if _G.Ysl.VIPBypass then VIPBypass:Start() end
    if _G.Ysl.GodMode then Protection:SetupGodMode() end
    if _G.Ysl.WaveImmunity then Protection:SetupWaveImmunity() end
    if _G.Ysl.AntiVoid then Protection:SetupAntiVoid() end
    if _G.Ysl.AutoBrainrot then AutoFarm:StartBrainrot() end
    if _G.Ysl.AutoMoney then AutoFarm:StartMoney() end
    
    Notify("Respawned", "Systems restarted! âœ…", 2)
end)

--// Auto-start
Protection:SetupWaveImmunity()
Protection:SetupAntiVoid()

Notify("âš¡ YslMenu V113", "ALL BUGS FIXED! Everything works perfect! ğŸ˜ˆğŸ”¥", 5)

print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("  YSLMENU V113 PERFECTED - FULLY LOADED")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("âœ… Brainrot collection FIXED (uses ProximityPrompts)")
print("âœ… Auto money FIXED (collects from base slots)")
print("âœ… Auto rebirth FIXED (smart mode, no spam)")
print("âœ… Stats display FIXED (no glitching)")
print("âœ… Wave protection FIXED (actually works now)")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("ğŸ”¥ WE MAKING BANK BRO! ğŸ’°ğŸ˜ˆ")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
